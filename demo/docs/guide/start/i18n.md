# 多语言

在本项目中多语言的设计与实现被划分为两个部分：数据校验、组件交互。

## 数据校验

本项目基于 Zod 提供的类 DSL 数据类型结构定义语法，所以我们可以使用 Zod 提供的多语言支持来实现数据校验的多语言。在这里我们推荐使用 [zod-i18n-map](https://github.com/aiji42/zod-i18n) 来实现多语言的数据校验。

### 安装

安装 `zod-i18n-map` 与 `i18next`（如果你没有安装过）。

<docs-tabs>
<docs-tab
  title="npm"
  icon='<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/npm/npm-original-wordmark.svg" />'
>
```bash
npm install zod-i18n-map i18next
```
</docs-tab>
<docs-tab
  title="yarn"
  icon='<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/yarn/yarn-original.svg" />'
>
```bash
yarn add zod-i18n-map i18next
```
</docs-tab>
<docs-tab
  title="pnpm"
  icon='<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjYiIGhlaWdodD0iMTYwIiBmaWxsPSJub25lIj48cGF0aCBmaWxsPSIjRjlBRDAwIiBkPSJNMjIxLjQ3OCA0OS43NTZoLTQ4Ljc4Vi45NzZoNDguNzh2NDguNzhaTTE2Ny44MSA0OS43NTZoLTQ4Ljc4MVYuOTc2aDQ4Ljc4MXY0OC43OFpNMTE0LjE1MSA0OS43NTZoLTQ4Ljc4Vi45NzZoNDguNzh2NDguNzhaTTIyMS40NzggMTAzLjQxNWgtNDguNzhWNTQuNjM0aDQ4Ljc4djQ4Ljc4MVoiLz48cGF0aCBmaWxsPSIjNEU0RTRFIiBkPSJNMTY3LjgxIDEwMy40MTVoLTQ4Ljc4MVY1NC42MzRoNDguNzgxdjQ4Ljc4MVpNMTY3LjgxIDE1Ny4wNzNoLTQ4Ljc4MXYtNDguNzhoNDguNzgxdjQ4Ljc4Wk0yMjEuNDc4IDE1Ny4wNzNoLTQ4Ljc4di00OC43OGg0OC43OHY0OC43OFpNMTE0LjE1MSAxNTcuMDczaC00OC43OHYtNDguNzhoNDguNzh2NDguNzhaTTEzLjA0MSA2OC4zNWMxLjY0IDAgMy4xNTUuMjE4IDQuNTQ5LjY1NSAxLjQyLjQxIDIuNjM2IDEuMDUyIDMuNjQ2IDEuOTI2IDEuMDExLjg3NCAxLjgwMyAxLjk4IDIuMzc3IDMuMzE5LjU3NCAxLjMxLjg2IDIuODgyLjg2IDQuNzEyIDAgMS43NDgtLjI0NSAzLjI3OC0uNzM3IDQuNTktLjQ5MiAxLjMxLTEuMTg4IDIuNDE3LTIuMDkgMy4zMTgtLjkwMS44NzQtMS45OTQgMS41My0zLjI3OCAxLjk2Ny0xLjI1Ni40MzctMi42NjMuNjU2LTQuMjIuNjU2LTEuMTc1IDAtMi4yNjgtLjE3OC0zLjI3OC0uNTMzdjYuODAyYy0uMjc0LjA4Mi0uNzEuMTY0LTEuMzEyLjI0Ni0uNi4xMDktMS4yMTUuMTY0LTEuODQ0LjE2NC0uNiAwLTEuMTQ3LS4wNDEtMS42MzktLjEyM2EyLjc0MiAyLjc0MiAwIDAgMS0xLjE4OC0uNDkyYy0uMzI4LS4yNDYtLjU3NC0uNTg3LS43MzctMS4wMjQtLjE2NC0uNDEtLjI0Ni0uOTU3LS4yNDYtMS42NFY3My4yMjZjMC0uNzM3LjE1LTEuMzM4LjQ1LTEuODAzLjMyOC0uNDY0Ljc2NS0uODg4IDEuMzEyLTEuMjcuODQ2LS41NDYgMS44OTgtLjk4MyAzLjE1NS0xLjMxMSAxLjI1Ni0uMzI4IDIuNjYzLS40OTIgNC4yMi0uNDkyWm0uMDgyIDE1LjY1MmMyLjgxNCAwIDQuMjItMS42OCA0LjIyLTUuMDQgMC0xLjc0OS0uMzU0LTMuMDQ2LTEuMDY1LTMuODkzLS42ODMtLjg0Ny0xLjY4LTEuMjctMi45OS0xLjI3LS41MiAwLS45ODQuMDY4LTEuMzk0LjIwNS0uNDEuMTEtLjc2NS4yNDYtMS4wNjUuNDF2OS4wMTRjLjMyNy4xNjQuNjgyLjMgMS4wNjUuNDEuMzgyLjExLjc5Mi4xNjQgMS4yMy4xNjRabTI3LjM3LTcuNzQ1YzAtLjg0Ni0uMjQ2LTEuNDYxLS43MzctMS44NDQtLjQ2NS0uNDEtMS4xMDctLjYxNC0xLjkyNi0uNjE0LS41NDcgMC0xLjA5My4wNjgtMS42NC4yMDUtLjUxOC4xMzYtLjk2OS4zNDEtMS4zNTEuNjE0djE0LjIxOWMtLjI3My4wODItLjcxLjE2NC0xLjMxMi4yNDYtLjU3My4wODItMS4xNzQuMTIzLTEuODAzLjEyMy0uNiAwLTEuMTQ3LS4wNDEtMS42MzktLjEyM2EyLjc0IDIuNzQgMCAwIDEtMS4xODgtLjQ5MiAyLjU1IDIuNTUgMCAwIDEtLjc3OC0uOTgzYy0uMTY0LS40MzctLjI0Ni0uOTk3LS4yNDYtMS42OFY3My42MzVjMC0uNzM4LjE1LTEuMzM5LjQ1LTEuODAzLjMyOC0uNDY0Ljc2NS0uODg4IDEuMzEyLTEuMjcuOTI4LS42NTYgMi4wOS0xLjE4OCAzLjQ4My0xLjU5OCAxLjQyLS40MSAyLjk5LS42MTUgNC43MTItLjYxNSAzLjA4NyAwIDUuNDYzLjY4MyA3LjEzIDIuMDQ5IDEuNjY2IDEuMzM5IDIuNSAzLjIxIDIuNSA1LjYxNHYxMi44MjVjLS4yNzQuMDgyLS43MTEuMTY0LTEuMzEyLjI0Ni0uNTc0LjA4Mi0xLjE3NS4xMjMtMS44MDMuMTIzLS42MDEgMC0xLjE0Ny0uMDQxLTEuNjM5LS4xMjNhMi43NCAyLjc0IDAgMCAxLTEuMTg4LS40OTIgMi41NSAyLjU1IDAgMCAxLS43NzktLjk4M2MtLjE2NC0uNDM3LS4yNDYtLjk5Ny0uMjQ2LTEuNjh2LTkuNjdaTTYwLjkgNjguMzVjMS42MzkgMCAzLjE1NS4yMTkgNC41NDguNjU2IDEuNDIuNDEgMi42MzYgMS4wNTIgMy42NDcgMS45MjYgMS4wMS44NzQgMS44MDIgMS45OCAyLjM3NiAzLjMxOS41NzQgMS4zMS44NiAyLjg4Mi44NiA0LjcxMiAwIDEuNzQ4LS4yNDUgMy4yNzgtLjczNyA0LjU5LS40OTIgMS4zMS0xLjE4OCAyLjQxNy0yLjA5IDMuMzE4LS45MDEuODc0LTEuOTk0IDEuNTMtMy4yNzggMS45NjctMS4yNTYuNDM3LTIuNjYzLjY1Ni00LjIyLjY1Ni0xLjE3NSAwLTIuMjY3LS4xNzgtMy4yNzgtLjUzM3Y2LjgwMmMtLjI3My4wODItLjcxLjE2NC0xLjMxMi4yNDYtLjYuMTA5LTEuMjE1LjE2NC0xLjg0My4xNjQtLjYwMSAwLTEuMTQ4LS4wNDEtMS42NC0uMTIzYTIuNzQyIDIuNzQyIDAgMCAxLTEuMTg4LS40OTJjLS4zMjgtLjI0Ni0uNTczLS41ODctLjczNy0xLjAyNC0uMTY0LS40MS0uMjQ2LS45NTctLjI0Ni0xLjY0VjczLjIyNmMwLS43MzcuMTUtMS4zMzguNDUtMS44MDMuMzI4LS40NjQuNzY1LS44ODggMS4zMTItMS4yNy44NDctLjU0NiAxLjg5OC0uOTgzIDMuMTU1LTEuMzExIDEuMjU3LS4zMjggMi42NjMtLjQ5MiA0LjIyLS40OTJabS4wODEgMTUuNjUzYzIuODE0IDAgNC4yMi0xLjY4IDQuMjItNS4wNCAwLTEuNzQ5LS4zNTQtMy4wNDYtMS4wNjQtMy44OTMtLjY4My0uODQ3LTEuNjgtMS4yNy0yLjk5Mi0xLjI3LS41MTkgMC0uOTgzLjA2OC0xLjM5My4yMDUtLjQxLjExLS43NjUuMjQ2LTEuMDY1LjQxdjkuMDE0Yy4zMjguMTY0LjY4My4zIDEuMDY1LjQxLjM4My4xMS43OTIuMTY0IDEuMjMuMTY0Wm0yNC4yOTctMTUuNjUzYzEuMTIgMCAyLjIxMy4xNjQgMy4yNzguNDkyIDEuMDkzLjMgMi4wMzUuNzY1IDIuODI4IDEuMzkzLjgyLS41NDYgMS43MzQtLjk5NyAyLjc0NS0xLjM1MiAxLjAzOC0uMzU1IDIuMjgxLS41MzMgMy43MjktLjUzMyAxLjAzOCAwIDIuMDQ5LjEzNyAzLjAzMi40MSAxLjAxMS4yNzMgMS44OTkuNzEgMi42NjMgMS4zMTEuNzkzLjU3NCAxLjQyMSAxLjM1MiAxLjg4NSAyLjMzNi40NjUuOTU2LjY5NyAyLjEzLjY5NyAzLjUyNHYxMi45MDdjLS4yNzMuMDgyLS43MS4xNjQtMS4zMTEuMjQ2LS41NzQuMDgyLTEuMTc1LjEyMy0xLjgwMy4xMjNhMTAgMTAgMCAwIDEtMS42MzktLjEyMyAyLjc0IDIuNzQgMCAwIDEtMS4xODktLjQ5MiAyLjU1NCAyLjU1NCAwIDAgMS0uNzc4LS45ODNjLS4xNjQtLjQzNy0uMjQ2LS45OTctLjI0Ni0xLjY4di05Ljc5M2MwLS44Mi0uMjMyLTEuNDA3LS42OTctMS43NjItLjQ2NC0uMzgzLTEuMDkyLS41NzQtMS44ODQtLjU3NC0uMzgzIDAtLjc5My4wOTUtMS4yMy4yODctLjQzNy4xNjQtLjc2NC4zNDEtLjk4My41MzIuMDI3LjExLjA0LjIxOS4wNC4zMjh2MTMuODkxYy0uMy4wODItLjc1LjE2NC0xLjM1MS4yNDYtLjU3NC4wODItMS4xNjEuMTIzLTEuNzYyLjEyM3MtMS4xNDgtLjA0MS0xLjY0LS4xMjNhMi43NCAyLjc0IDAgMCAxLTEuMTg4LS40OTIgMi41NSAyLjU1IDAgMCAxLS43NzgtLjk4M2MtLjE2NC0uNDM3LS4yNDYtLjk5Ny0uMjQ2LTEuNjh2LTkuNzkzYzAtLjgyLS4yNi0xLjQwNy0uNzc5LTEuNzYyLS40OTEtLjM4My0xLjA5Mi0uNTc0LTEuODAyLS41NzQtLjQ5MiAwLS45MTUuMDgyLTEuMjcuMjQ2YTcuMTggNy4xOCAwIDAgMC0uOTAyLjQxdjE0LjM4MmMtLjI3My4wODItLjcxLjE2NC0xLjMxMS4yNDZhMTIuNzQgMTIuNzQgMCAwIDEtMS44MDMuMTIzYy0uNjAxIDAtMS4xNDgtLjA0MS0xLjY0LS4xMjNhMi43NCAyLjc0IDAgMCAxLTEuMTg4LS40OTIgMi41NSAyLjU1IDAgMCAxLS43NzgtLjk4M2MtLjE2NC0uNDM3LS4yNDYtLjk5Ny0uMjQ2LTEuNjhWNzMuNTUzYzAtLjczNy4xNS0xLjMyNS40NS0xLjc2Mi4zMjktLjQzNy43NjYtLjg0NyAxLjMxMi0xLjIzLjkyOS0uNjU1IDIuMDc2LTEuMTg4IDMuNDQyLTEuNTk3YTE1LjMxMiAxNS4zMTIgMCAwIDEgNC4zNDMtLjYxNVoiLz48L3N2Zz4K" />'
>
```bash
pnpm add zod-i18n-map i18next
```
</docs-tab>
</docs-tabs>

### 使用

```typescript
import i18next from 'i18next'
import { z } from '@zodui/core/external'
import { zodI18nMap } from 'zod-i18n-map'
// 引入你需要的语言包
import translation from 'zod-i18n-map/locales/zh-CN/zod.json'

// 注册语言包资源到 i18next
i18next.init({
  lng: 'zh-CN',
  resources: {
    'zh-CN': { zod: translation }
  }
})
// 设置 zod 的错误信息映射为 zod-i18n-map 提供的映射
z.setErrorMap(zodI18nMap)
```
